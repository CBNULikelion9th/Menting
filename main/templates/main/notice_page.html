{% extends 'main/community_base.html' %}
{% load static %}
{% block content %}
<div class="notice_page">
    <div class="notice_page_detail">
            
                <table class= "table table-hover" width= 82%; border="3">
                    <thead class="table-secondary">
                        <th width="10%">번호</th>
                        <th width="15%">작성자</th>
                        <th width="25%">제목</th>
                        <th width="20%">작성시간</th>
                    </thead>
                    <tbody>
                      {% for post2 in post2_list %}
                      <tr>
                        <td>{{ post2.id }}</td>
                          <td>{{ post2.username }}</td>
                          <td><a href = "{% url 'notice_detail' post2.id %}" class="link-dark">{{ post2.title }}</a></td>
                          <td>{{ post2.created_at }}</td>
                      </tr>
                      {% endfor %}
                    </tbody>
                </table>
                <br><br>   
    </div>

    <div class="notice_page_button">
        {% if user.is_superuser == True %}
        <button class="btn btn-outline-secondary"><a href = "{% url 'notice_new' %}" class="link-dark">새 글 쓰기</a></button> 
        {% endif %}
    </div>

    <!--페이징-->

    <ul class="pagination justify-content-center">
        <!-- 이전페이지 -->
        {% if post2_list.has_previous %}
        <li class="page-item">
            <a class="page-link" href="?page={{ post2_list.previous_page_number }}">이전</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true" href="#">이전</a>
        </li>
        {% endif %}
        <!-- 페이지리스트 -->
        {% for page_number in post2_list.paginator.page_range %}
        {% if page_number >= post2_list.number|add:-2 and page_number <= post2_list.number|add:2 %}  <!-- 템플릿 필터 -->
            {% if page_number == post2_list.number %}
            <li class="page-item active" aria-current="page">
                <a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
            </li>
            {% else %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
            </li>
            {% endif %}
        {% endif %}
        {% endfor %}
        <!-- 다음페이지 -->
        {% if post2_list.has_next %}
        <li class="page-item">
            <a class="page-link" href="?page={{ post2_list.next_page_number }}">다음</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true" href="#">다음</a>
        </li>
        {% endif %}
    </ul>

</div>
{% endblock content %}